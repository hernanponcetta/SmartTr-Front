{"version":3,"sources":["components/Map.js","components/icons/LocationMarker.js","components/PlaceItem.js","components/SearchInput.js","components/PlacesContainer.js","components/ControlBox.js","components/App.js","index.js"],"names":["Map","this","props","loadMap","id","className","React","Component","LocationMarker","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","PlaceItem","placeId","map","description","matched_substring","addMarker","head","substr","offset","term","length","tail","stringMatched","descriptionChop","service","window","google","maps","places","PlacesService","onClick","getDetails","AutocompleteService","SearchInput","state","value","handleChange","event","setState","target","getPlacePredictions","input","displayPlaces","preventDefault","onSubmit","handleSubmit","onChange","PlacesContainer","display","placesList","place","place_id","matched_substrings","ControlBox","suggestions","updateDisplay","markerIcon","url","scaledSize","Size","App","undefined","bounds","marker","document","getElementById","center","lat","lng","zoom","disableDefaultUI","LatLngBounds","result","status","geometry","location","Marker","position","icon","extend","fitBounds","left","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.79f89160.chunk.js","sourcesContent":["import React from \"react\";\n\nclass Map extends React.Component {\n  componentDidMount() {\n    this.props.loadMap();\n  }\n\n  render() {\n    return <div id=\"map\" className=\"h-screen\" />;\n  }\n}\n\nexport default Map;\n","import React from \"react\";\n\nconst LocationMarker = () => {\n  return (\n    <div className=\"w-7 mx-3 text-red-400\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n        />\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n        />\n      </svg>\n    </div>\n  );\n};\n\nexport default LocationMarker;\n","import React from \"react\";\nimport LocationMarker from \"./icons/LocationMarker\";\n\nconst descriptionChop = (description) => {\n  if (description.length > 45) {\n    return description.substr(0, 45) + \"...\";\n  }\n  return description;\n};\n\nconst stringMatched = (description, matched_substring) => {\n  const head = description.substr(0, matched_substring.offset);\n  const term = description.substr(\n    matched_substring.offset,\n    matched_substring.length + 1\n  );\n  const tail = description.substr(\n    matched_substring.offset + 1 + matched_substring.length\n  );\n  return { head, term, tail };\n};\n\nconst PlaceItem = ({\n  placeId,\n  map,\n  description,\n  matched_substring,\n  addMarker,\n}) => {\n  description = descriptionChop(description);\n  const { head, term, tail } = stringMatched(description, matched_substring);\n\n  const service = new window.google.maps.places.PlacesService(map);\n\n  const handleOnClick = () => {\n    service.getDetails(\n      {\n        placeId: placeId,\n      },\n      addMarker\n    );\n  };\n\n  return (\n    <div\n      onClick={handleOnClick}\n      className=\"text-xs text-gray-600 py-2 hover:bg-gray-100 flex\"\n    >\n      <LocationMarker />\n      <div className=\"self-center px-1 w-full\">\n        {head} <span className=\"font-bold text-gray-800\">{term}</span> {tail}\n      </div>\n    </div>\n  );\n};\n\nexport default PlaceItem;\n","import React from \"react\";\nimport SearchItem from \"./PlaceItem\";\n\nconst service = new window.google.maps.places.AutocompleteService();\n\nclass SearchInput extends React.Component {\n  state = { value: \"\" };\n\n  handleChange = (event) => {\n    this.setState({ value: event.target.value });\n\n    if (this.state.value !== \"\") {\n      service.getPlacePredictions(\n        { input: this.state.value },\n        this.props.displayPlaces\n      );\n    }\n  };\n\n  handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          className=\"w-96 border border-gray-300 text-gray-800 rounded-md outline-none p-3\"\n          value={this.state.value}\n          onChange={this.handleChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchInput;\n","import React from \"react\";\nimport PlaceItem from \"./PlaceItem\";\n\nconst PlacesContainer = ({ map, places, display, addMarker }) => {\n  const placesList = places.map((place) => {\n    return (\n      <PlaceItem\n        key={place.place_id}\n        placeId={place.place_id}\n        map={map}\n        description={place.description}\n        matched_substring={place.matched_substrings[0]}\n        addMarker={addMarker}\n      />\n    );\n  });\n  return (\n    <div\n      className={`bg-white border border-gray-300 text-gray-800 rounded-md mt-2 w-96 ${display}`}\n    >\n      {placesList}\n    </div>\n  );\n};\n\nexport default PlacesContainer;\n","import React from \"react\";\nimport SearchInput from \"./SearchInput\";\nimport PlacesContainer from \"./PlacesContainer\";\n\nclass ControlBox extends React.Component {\n  state = { places: [], display: \"hidden\" };\n\n  displayPlaces = (suggestions, state) => {\n    if (state === \"OK\") {\n      const places = suggestions;\n      this.setState({ places: places, display: \"block\" });\n    }\n  };\n\n  updateDisplay = (display) => {\n    this.setState({ display: display });\n  };\n\n  render() {\n    return (\n      <div id=\"control-box\" className=\"pl-3 pt-3 absolute z-50\">\n        <SearchInput displayPlaces={this.displayPlaces} />\n        <PlacesContainer\n          addMarker={this.props.addMarker}\n          places={this.state.places}\n          display={this.state.display}\n          map={this.props.map}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlBox;\n","import React from \"react\";\nimport Map from \"./Map\";\nimport ControlBox from \"./ControlBox\";\n\nconst markerIcon = {\n  url:\n    'data:image/svg+xml;utf-8, <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"%23EF4444\"><path fill-rule=\"evenodd\" d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\" clip-rule=\"evenodd\" /></svg>',\n  scaledSize: new window.google.maps.Size(40, 40),\n};\n\nclass App extends React.Component {\n  state = { place: \"\", map: undefined, bounds: undefined, marker: {} };\n\n  loadMap = () => {\n    const map = new window.google.maps.Map(document.getElementById(\"map\"), {\n      center: { lat: -34.90203959362061, lng: -57.974069657098354 },\n      zoom: 8,\n      disableDefaultUI: true,\n    });\n    const bounds = new window.google.maps.LatLngBounds();\n\n    this.setState({ map: map, bounds: bounds });\n  };\n\n  addMarker = (result, status) => {\n    if (status == \"OK\") {\n      this.setState({ marker: result.geometry.location });\n      const marker = new window.google.maps.Marker({\n        position: this.state.marker,\n        map: this.state.map,\n        icon: markerIcon,\n      });\n      this.state.bounds.extend(this.state.marker);\n      this.state.map.fitBounds(this.state.bounds, { left: 400 });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <ControlBox map={this.state.map} addMarker={this.addMarker} />\n        <Map loadMap={this.loadMap} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}